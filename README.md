# 股票价格自动刷新显示工具

这是一个用 Python 编写的命令行股票价格实时显示工具，能够从新浪财经接口获取 A 股实时数据，并提供自动刷新和收益计算功能。

## 功能特点

- 实时获取 A 股股票价格（通过新浪财经 API）
- 自动刷新显示（可设置刷新间隔）
- 支持多股票同时监控
- 显示持有数量、收益金额、涨跌幅
- 显示当日最高价、最低价
- 支持按收益金额排序
- 显示股票停牌状态
- 彩色终端输出（上涨红色，下跌绿色）

## 安装依赖

```bash
pip install requests
```

如需更好的中文字符对齐效果，可额外安装：

```bash
pip install wcwidth
```

## 使用方法

### 准备股票列表文件

创建 `stock_list.txt` 文件，每行包含股票代码和持有数量（可选），例如：

```
000001 1000    # 平安银行，持有1000股
600000 500     # 浦发银行，持有500股
600036         # 招商银行，未指定数量则默认为0
```

注释行以 `#` 开头，会被忽略。

### 基本用法

```bash
python auto_refresh_only.py
```

这将显示一次股票数据。

### 自动刷新模式

```bash
python auto_refresh_only.py -i 5
```

每 5 秒刷新一次。按 `Ctrl+C` 停止。

### 按收益排序

```bash
python auto_refresh_only.py -i 10 -s
```

每 10 秒刷新一次，并按收益金额从高到低排序。

### 指定股票列表文件

```bash
python auto_refresh_only.py -l my_stocks.txt -i 3
```

使用自定义股票列表文件 `my_stocks.txt`，每 3 秒刷新一次。

## 参数说明

- `-l`, `--list`: 指定股票列表文件路径（默认: stock_list.txt）
- `-i`, `--interval`: 设置刷新间隔（秒）（启用自动刷新模式）
- `-s`, `--sort-by-profit`: 按收益金额排序（默认按股票代码排序）

## 输出字段说明

- Name: 股票名称
- Qty: 持有数量
- Trend: 价格趋势（↑ 上涨 ↓ 下跌 - 持平）
- High: 当日最高价
- Low: 当日最低价
- Price: 当前价格
- Change%: 涨跌幅
- Profit: 收益金额
- Time: 数据更新时间

底部会显示总收益和整体收益率。

## 注意事项

1. 本工具使用新浪财经免费接口，数据仅供参考。
2. 请遵守相关法律法规，不要用于商业用途。
3. 由于使用免费接口，可能出现数据延迟或获取失败的情况。
4. 在交易时间外，部分股票可能显示为停牌状态。
5. 请自行承担使用本工具进行投资决策的风险。

## 免责声明

本工具仅供学习和参考使用，不构成任何投资建议。股市有风险，投资需谨慎。作者不对因使用本工具而导致的任何直接或间接损失承担责任。
